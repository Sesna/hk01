{"version":3,"sources":["icons/search.svg","serviceWorker.ts","api/GetApp.ts","actions/index.ts","reducers/index.ts","components/SearchBox.tsx","containers/SearchContainer.tsx","components/LoadingBar.tsx","Util.ts","components/GrossList.tsx","containers/GrossListContainer.tsx","components/LoadingCircle.tsx","icons/star_01.svg","icons/star_02.svg","components/TopList.tsx","containers/TopListContainer.tsx","containers/App.tsx","index.tsx"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","urlTopN","urlTopGrossN","test","Promise","resolve","reject","setTimeout","parseInt","Math","random","getTopN","_x","_x2","_getTopN","apply","this","arguments","_callee","start","limit","response","regenerator_default","a","wrap","_context","prev","next","axios","get","sent","abrupt","parseTopNData","data","t0","console","log","stop","feed","entry","slice","map","item","i","convertOne","parseTopGrossNData","rank","t","icon","label","name","category","attributes","summary","author","star","comment","getTopGrossingN","_getTopGrossingN","_callee2","_context2","KEY_WORD","TOP_LOADING","TOP_LOADED","TOP_APPENDING","TOP_APPENDED","GROSS_LOADING","GROSS_LOADED","CONSTANTS","defaultTopState","loading","appending","list","defaultGrossState","rootReducers","combineReducers","keyWord","state","length","undefined","action","type","value","topList","Object","assign","concat","grossList","SearchBox","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","tip","handleChange","bind","assertThisInitialized","event","onChange","target","handleTip","setState","react_default","createElement","className","alt","src","SearchIcon","SearchTip","maxLength","React","Component","connect","dispatch","changeKeyWord","loadingBar","imgStyle","url","backgroundImage","matchKeys","fliterData","toUpperCase","filter","some","key","indexOf","matchAny","AppGrossList","TransitionGroup","component","appear","CSSTransition","timeout","style","GrossList","LoadingBar","LoadingCircle","_extends","source","prototype","hasOwnProperty","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","star_01_ref2","star_01_ref3","d","p-id","fill","star_01_SvgStar01","_ref","svgRef","viewBox","width","height","ref","ForwardRef","forwardRef","star_02_extends","star_02_objectWithoutProperties","star_02_objectWithoutPropertiesLoose","star_02_ref2","star_02_ref3","star_02_SvgStar02","star_02_ForwardRef","AppTop","cname","starNumber","push","showStar","TopList","lastScroll","onScroll","document","querySelector","addEventListener","removeEventListener","ele","scrollTop","clientHeight","scrollHeight","arriveBottom","appendData","components_LoadingCircle","_ref2","asyncToGenerator","mark","getState","_x3","_x4","App","id","SearchContainer","GrossListContainer","TopListContainer","store","createStore","reducer","composeWithDevTools","applyMiddleware","thunk","_ref3","_callee3","_context3","_x5","render","es","containers_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.0ea63428.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/search.a87cbe0f.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import axios, { AxiosResponse } from 'axios'\r\nimport { App, AppData } from '../DataStruct'\r\nconst urlTopN: string = '/mockdata/appListData.json'\r\nconst urlTopGrossN: string = '/mockdata/recomendData.json'\r\n\r\nfunction test() {\r\n    return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n            resolve()\r\n        }, parseInt(Math.random() * 1000 + '', 10))\r\n    })\r\n}\r\n\r\nexport async function getTopN(start: number, limit: number): Promise<any> {\r\n    // console.log('getTopN', start, limit)\r\n    try {\r\n        await test()\r\n        let response: AxiosResponse<any> = await axios.get(urlTopN)\r\n        return parseTopNData(response.data, start, limit)\r\n    } catch(e) {\r\n        console.log('getTopN fail', e)\r\n        return []\r\n    }\r\n}\r\n\r\nconst parseTopNData = (data: any, start: number, limit: number): App[] => {\r\n    // console.log('parseTopNData', data.feed.entry.length, start, limit)\r\n    let targetData: AppData[] = data.feed.entry.slice(start, start + limit)\r\n    return targetData.map((item: AppData, i: number) => convertOne(item, start + i + 1))\r\n}\r\n\r\nconst parseTopGrossNData = (data: any): App[] => {\r\n    // console.log('parseTopGrossNData', data.feed.entry.length)\r\n    return data.feed.entry.map((item: AppData) => convertOne(item))\r\n}\r\n\r\nconst convertOne = (item: AppData, rank?: number): App => {\r\n    let t: App = {\r\n        icon     : item['im:image'][1].label,\r\n        name     : item['im:name'].label,\r\n        category : item.category.attributes.label,\r\n        summary  : item.summary.label,\r\n        author   : item['im:artist'].label\r\n    }\r\n    if(rank) {\r\n        t.rank     = rank\r\n        t.star     = parseInt(Math.random() * 5 + 1 + '', 10)\r\n        t.comment  = parseInt(Math.random() * 1000 + 100 + '', 10)\r\n    }\r\n    return t\r\n}\r\n\r\nexport async function getTopGrossingN(): Promise<any> {\r\n    try {\r\n        await test()\r\n        let response: AxiosResponse<any> = await axios.get(urlTopGrossN)\r\n        return parseTopGrossNData(response.data)\r\n    } catch(e) {\r\n        console.log('getTopGrossingN fail', e)\r\n        return []\r\n    }\r\n}","import { App } from '../DataStruct'\r\nimport { getTopN, getTopGrossingN } from '../api/GetApp'\r\nimport { Dispatch } from 'react'\r\nimport { ThunkAction } from 'redux-thunk'\r\nimport { AppState } from '../reducers'\r\nimport { Action as ActionR } from 'redux'\r\n\r\nexport const KEY_WORD: string      = 'keyWord'\r\nexport const TOP_LOADING: string   = 'topLoading'\r\nexport const TOP_LOADED: string    = 'topLoaded'\r\nexport const TOP_APPENDING: string = 'topAppendeding'\r\nexport const TOP_APPENDED: string  = 'topAppendeded'\r\nexport const GROSS_LOADING: string = 'grossLoading'\r\nexport const GROSS_LOADED: string  = 'grossLoaded'\r\n\r\nexport interface Action {\r\n    type               : string,\r\n    value?             : any,\r\n    [propName: string] : any\r\n}\r\n\r\nexport const CONSTANTS = {\r\n    KEY_WORD,\r\n    TOP_LOADING,\r\n    TOP_LOADED,\r\n    TOP_APPENDING,\r\n    TOP_APPENDED,\r\n    GROSS_LOADING,\r\n    GROSS_LOADED\r\n}\r\n\r\nexport function changeKeyWord(value: string): Action {\r\n    return { type : KEY_WORD, value }\r\n}\r\n\r\nexport function setTopLoading(): Action {\r\n    return { type : TOP_LOADING }\r\n}\r\n\r\nexport function setTopLoaded(value: App[], start: number): Action {\r\n    return { type : TOP_LOADED, value, start }\r\n}\r\n\r\nexport function setTopAppending(): Action {\r\n    return { type : TOP_APPENDING }\r\n}\r\n\r\nexport function setTopAppended(value: App[], start: number): Action {\r\n    return { type : TOP_APPENDED, value, start }\r\n}\r\n\r\nexport function setGrossLoading(): Action {\r\n    return { type : GROSS_LOADING }\r\n}\r\n\r\nexport function setGrossLoaded(value: App[]): Action {\r\n    return { type : GROSS_LOADED, value }\r\n}\r\n\r\nexport function getTopData(): ThunkAction<void, AppState, null, ActionR<string>> {\r\n    return async function(dispatch: Dispatch<Action>, getState: Function) {\r\n        let state = getState().topList\r\n        dispatch(setTopLoading())\r\n        let data = await getTopN(state.start, state.limit)\r\n        dispatch(setTopLoaded(data, state.start + state.limit))\r\n    }\r\n}\r\n\r\nexport function appendTopData(): ThunkAction<void, AppState, null, ActionR<string>> {\r\n    return async function(dispatch: Dispatch<Action>, getState: Function) {\r\n        let state = getState().topList\r\n        if(state.appending || state.start >= 100) {\r\n            return\r\n        }\r\n        dispatch(setTopAppending())\r\n        let data = await getTopN(state.start, state.limit)\r\n        dispatch(setTopAppended(data, state.start + state.limit))\r\n    }\r\n}\r\n\r\nexport function getGrossData(): ThunkAction<void, AppState, null, ActionR<string>> {\r\n    return async function(dispatch: Dispatch<Action>) {\r\n        dispatch(setGrossLoading())\r\n        let data = await getTopGrossingN()\r\n        dispatch(setGrossLoaded(data))\r\n    }\r\n}","import { combineReducers } from 'redux'\r\nimport {\r\n    CONSTANTS, Action\r\n} from '../actions'\r\n\r\nconst {\r\n    KEY_WORD,\r\n    TOP_LOADING,\r\n    TOP_LOADED,\r\n    TOP_APPENDING,\r\n    TOP_APPENDED,\r\n    GROSS_LOADING,\r\n    GROSS_LOADED\r\n} = CONSTANTS\r\n\r\nfunction keyWord(state = '', action: Action) {\r\n    if(action.type === KEY_WORD) {\r\n        return action.value\r\n    }\r\n    return state\r\n}\r\n\r\nconst defaultTopState = {\r\n    loading    : true,\r\n    appending  : false,\r\n    list       : [],\r\n    start      : 0,\r\n    limit      : 10\r\n}\r\n\r\nfunction topList(state: any = defaultTopState, action: Action) {\r\n    switch (action.type) {\r\n        case TOP_LOADING:\r\n            return Object.assign({}, state, { loading : true })\r\n        case TOP_LOADED:\r\n            return Object.assign({}, state, {\r\n                loading : false,\r\n                list    : action.value,\r\n                start   : action.start\r\n            })\r\n        case TOP_APPENDING:\r\n            return Object.assign({}, state, { appending : true })\r\n        case TOP_APPENDED:\r\n            return Object.assign({}, state, {\r\n                appending : false,\r\n                list      : state.list.concat(action.value),\r\n                start     : action.start\r\n            })\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst defaultGrossState = {\r\n    loading : true,\r\n    list    : []\r\n}\r\n\r\nfunction grossList(state: any = defaultGrossState, action: Action) {\r\n    switch (action.type) {\r\n        case GROSS_LOADING:\r\n            return Object.assign({}, state, { loading : true })\r\n        case GROSS_LOADED:\r\n            return Object.assign({}, state, {\r\n                loading : false,\r\n                list    : action.value\r\n            })\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst rootReducers = combineReducers({\r\n    keyWord,\r\n    topList,\r\n    grossList\r\n})\r\n\r\nexport type AppState = ReturnType<typeof rootReducers>\r\n\r\nexport default  rootReducers","import React from \"react\"\r\nimport SearchIcon from '../icons/search.svg'\r\n\r\ninterface State {\r\n    tip : boolean\r\n}\r\n\r\ninterface Props {\r\n    value    : string,\r\n    onChange : Function\r\n}\r\n\r\nfunction SearchTip(tip: boolean) {\r\n    if(!tip) { return }\r\n    return (\r\n        <div className='tip common-position'>\r\n            <img alt='search-icon' className='search-icon' src={SearchIcon} />\r\n            <span>搜寻</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default class SearchBox extends React.Component {\r\n    state: State = { tip : true }\r\n    props: Props\r\n    \r\n    constructor(props: object) {\r\n        super(props)\r\n        this.handleChange = this.handleChange.bind(this)\r\n    }\r\n\r\n    handleChange(event: React.ChangeEvent<HTMLInputElement>) {\r\n        this.props.onChange(event.target.value)\r\n        this.handleTip(event.target.value)\r\n    }\r\n    \r\n    handleTip(value: string) {\r\n        this.setState({ tip : value ? false : true })\r\n    }\r\n    \r\n    render() {\r\n        return(<div className='search-box'>\r\n            <div className='background common-position'></div>\r\n            {SearchTip(this.state.tip)}\r\n            <input\r\n                className='search common-position'\r\n                type='text'\r\n                maxLength={20}\r\n                value={this.props.value}\r\n                onChange={this.handleChange}\r\n            ></input>\r\n\r\n        </div>)\r\n    }\r\n}","import { connect } from 'react-redux'\r\nimport { changeKeyWord } from '../actions'\r\nimport SearchBox from '../components/SearchBox'\r\nimport { Dispatch } from 'redux'\r\nimport { AppState } from '../reducers'\r\n\r\nconst mapStateToProps = (state: AppState) => ({\r\n    value : state.keyWord\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\r\n    onChange : (value: string) => dispatch(changeKeyWord(value))\r\n})\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(SearchBox)\r\n","import React from 'react'\r\n\r\nconst loadingBar = () => (\r\n    <div className=\"loading-bar\">\r\n        <div className=\"load\">loading</div>\r\n        <div className=\"bar-list\">\r\n            <div className=\"bar bar1\"></div>\r\n            <div className=\"bar bar2\"></div>\r\n            <div className=\"bar bar3\"></div>\r\n            <div className=\"bar bar4\"></div>\r\n            <div className=\"bar bar5\"></div>\r\n            <div className=\"bar bar6\"></div>\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default loadingBar","import { App } from './DataStruct'\r\n\r\nexport function imgStyle(url: string): { backgroundImage: string } {\r\n    return {\r\n        backgroundImage : 'url(' + url + ')'\r\n    }\r\n}\r\n\r\nconst matchKeys = ['name', 'summary', 'category', 'author']\r\nfunction matchAny(item: App, keyWord: string): boolean {\r\n    return matchKeys.some((key) => {\r\n        return (item[key] + '').toUpperCase().indexOf(keyWord) !== -1\r\n    })\r\n}\r\n\r\nexport function fliterData(list: App[], keyWord: string): App[] {\r\n    if(!keyWord) {\r\n        return list\r\n    }\r\n    keyWord = keyWord.toUpperCase()\r\n    return list.filter((item: App) => matchAny(item, keyWord))\r\n}\r\n\r\n","import React from 'react'\r\nimport { App } from '../DataStruct'\r\nimport LoadingBar from './LoadingBar'\r\nimport { imgStyle } from '../Util'\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\r\n\r\nfunction AppGross(props: App) {\r\n    return (\r\n        <CSSTransition  timeout={300} className='app' key={props.name}>\r\n            <div>\r\n                <div className='icon' style={imgStyle(props.icon)}></div>\r\n                <p className='name'>{props.name}</p>\r\n                <p className='category'>{props.category}</p>\r\n            </div>\r\n        </CSSTransition>\r\n    )\r\n}\r\n\r\nfunction AppGrossList(list: App[]) {\r\n    return (\r\n        <TransitionGroup component={null} appear={true}>\r\n            {list.map((item) => AppGross(item))}\r\n        </TransitionGroup>\r\n    )\r\n}\r\n\r\ninterface Props {\r\n    loading : boolean,\r\n    list    : App[]\r\n}\r\n\r\nconst GrossList = (props: Props) => (\r\n    <div className='gross-list'>\r\n        <h6 className='title'>推介</h6>\r\n        <div className='app-list'>\r\n            {props.loading ? <LoadingBar />\r\n            : AppGrossList(props.list) }\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default GrossList","import { connect } from 'react-redux'\r\nimport GrossList from '../components/GrossList'\r\nimport { AppState } from '../reducers'\r\nimport { fliterData } from '../Util'\r\n\r\nconst mapStateToProps = (state: AppState) => ({\r\n    loading : state.grossList.loading,\r\n    list    : fliterData(state.grossList.list, state.keyWord),\r\n})\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n)(GrossList)","import React from 'react'\r\n\r\nconst LoadingCircle = () => (\r\n    <div className=\"loading-circle\">\r\n        <div className=\"rond\">\r\n            <div className=\"test\"></div>\r\n        </div>\r\n        <div className=\"load\">loading</div>\r\n    </div>\r\n)\r\nexport default LoadingCircle","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", {\n  type: \"text/css\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M762.88 1008c-16.576 0-33.152-4.096-47.744-12.032l-204.032-109.888-203.968 109.888c-32.96 17.6-74.432 15.232-104.832-5.632-31.36-21.632-47.424-59.264-41.216-96.128l39.936-238.656-172.352-172.16C2.176 457.152-6.784 418.88 5.312 383.68 17.344 348.8 47.744 323.712 84.736 318.208l234.432-34.816L421.12 72C437.504 37.952 472.832 16 511.104 16c38.4 0 73.664 21.952 89.984 56l101.952 211.392 234.432 34.816c36.928 5.504 67.456 30.592 79.488 65.344 12.032 35.264 3.136 73.536-23.296 99.968l-172.416 172.096 39.936 238.72c6.272 36.736-9.856 74.496-41.088 96C803.072 1001.856 783.36 1008 762.88 1008M511.104 821.888c4.992 0 9.856 1.28 14.336 3.648l218.176 117.504c13.12 6.976 30.016 6.016 42.24-2.368 12.096-8.384 18.176-22.272 15.808-36.352l-42.496-254.016c-1.6-9.6 1.408-19.52 8.384-26.368l183.424-183.04c10.048-10.048 13.44-24.448 8.96-37.568-4.608-13.376-16.64-23.168-31.296-25.408L678.4 340.672c-9.856-1.472-18.368-7.744-22.72-16.768l-108.8-225.856C540.48 84.864 526.464 76.224 511.104 76.224c-15.296 0-29.312 8.576-35.712 21.824l-108.8 225.856C362.304 332.928 353.792 339.2 343.936 340.672L93.568 377.792c-14.464 2.176-26.688 12.224-31.36 25.536-4.48 13.056-1.024 27.456 9.024 37.504l183.296 183.04c6.976 6.848 10.048 16.768 8.512 26.368l-42.496 254.016c-2.496 14.144 3.712 28.032 15.808 36.48 12.096 8.256 28.928 9.28 42.304 2.112l218.112-117.376C501.312 823.104 506.24 821.888 511.104 821.888\",\n  \"p-id\": 4835,\n  fill: \"#f4ea2a\"\n});\n\nvar SvgStar01 = function SvgStar01(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    t: 1561564403518,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    \"p-id\": 4834,\n    width: 64,\n    height: 64,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgStar01, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/star_01.808eec09.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", {\n  type: \"text/css\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M762.688 1007.936c-16.64 0-33.152-4.16-47.744-12.032l-203.968-109.824-203.904 109.824c-33.088 17.6-74.496 15.232-104.896-5.568-31.296-21.568-47.36-59.328-41.152-96.128l39.936-238.656L28.672 483.456C2.112 457.152-6.784 418.88 5.248 383.68 17.344 348.8 47.744 323.712 84.672 318.272l234.496-34.88 101.76-211.392c16.384-33.984 51.776-56 90.048-56 38.336 0 73.664 21.952 89.92 56l101.888 211.392 234.432 34.88c36.992 5.44 67.392 30.528 79.424 65.344 12.096 35.264 3.136 73.472-23.296 99.84l-172.416 172.096 40.064 238.656c6.208 36.864-9.984 74.624-41.216 96.064C802.88 1001.792 783.168 1007.936 762.688 1007.936\",\n  \"p-id\": 5100,\n  fill: \"#f4ea2a\"\n});\n\nvar SvgStar02 = function SvgStar02(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    t: 1561597482864,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    \"p-id\": 5099,\n    width: 64,\n    height: 64,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgStar02, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/star_02.509a0794.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\nimport LoadingCircle from './LoadingCircle'\r\nimport { App } from '../DataStruct'\r\nimport { ReactComponent as Star1 } from '../icons/star_01.svg'\r\nimport { ReactComponent as Star2 } from '../icons/star_02.svg'\r\nimport { imgStyle } from '../Util'\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\r\n\r\nfunction showStar(starNumber: number) {\r\n    let t = []\r\n    for(let i = 0; i < starNumber; i++) {\r\n        t.push(<Star2 className='rate-star' key={i}></Star2>)\r\n    }\r\n    for(let i = starNumber; i < 5; i++) {\r\n        t.push(<Star1 className='rate-star' key={starNumber + i}></Star1>)\r\n    }\r\n    return t\r\n}\r\n\r\nfunction AppTop(props: App, i: number) {\r\n    let cname = 'app' + (i % 2 === 1 ? \" circle\" : \"\")\r\n    return (\r\n        <CSSTransition timeout={300} className={cname} key={props.name}>\r\n            <div>\r\n                <div className='left'>{props.rank}</div>\r\n                <div className='middle'>\r\n                    <div className='icon' style={imgStyle(props.icon)}></div>\r\n                </div>\r\n                <div className='right'>\r\n                    <p className='name'>{props.name}</p>\r\n                    <p className='category'>{props.category}</p>\r\n                    <div className='like'>\r\n                        {showStar(props.star)}\r\n                        <span className='comment'>({props.comment})</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </CSSTransition>\r\n    )\r\n}\r\n\r\nfunction AppTopList(list: App[]) {\r\n    return (\r\n        <TransitionGroup component={null} appear={true}>\r\n            {list.map((item, i) => AppTop(item, i))}\r\n        </TransitionGroup>\r\n    )\r\n}\r\n\r\ninterface State {\r\n    lastScroll : number\r\n}\r\n\r\ninterface Props {\r\n    list       : App[],\r\n    loading    : boolean,\r\n    appending  : boolean,\r\n    appendData : Function\r\n}\r\n\r\nexport default class TopList extends React.Component {\r\n    props: Props\r\n    state: State = {\r\n        lastScroll : 0\r\n    }\r\n\r\n    constructor(props: object) {\r\n        super(props)\r\n        this.onScroll = this.onScroll.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        let ele = document.querySelector('#scrollable-content')\r\n        ele.addEventListener('scroll', this.onScroll)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        let ele = document.querySelector('#scrollable-content')\r\n        ele.removeEventListener('scroll', this.onScroll);\r\n    }\r\n\r\n    arriveBottom(ele: Element): boolean {\r\n        let scrollTop: number    = ele.scrollTop\r\n        let height: number       = ele.clientHeight\r\n        let scrollHeight: number = ele.scrollHeight\r\n        let lastScroll: number   = this.state.lastScroll\r\n        // console.log('s', ele, scrollHeight - height - scrollTop)\r\n        this.setState({ lastScroll : scrollTop })\r\n        // 向上滚动的不用管\r\n        if(lastScroll > scrollTop) {\r\n            return false\r\n        }\r\n        if(scrollHeight - height - scrollTop < 200) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    onScroll() {\r\n        let ele: Element = document.querySelector('#scrollable-content')\r\n        if(!this.arriveBottom(ele)) {\r\n            return\r\n        }\r\n        this.props.appendData()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='top-list'>\r\n                {this.props.loading ? <LoadingCircle/>\r\n                : AppTopList(this.props.list)}\r\n                {this.props.appending && <div className='loader'></div>}\r\n            </div>\r\n        )\r\n    }\r\n}","import { connect } from 'react-redux'\r\nimport TopList from '../components/TopList'\r\nimport { AppState } from '../reducers'\r\nimport { fliterData } from '../Util'\r\nimport { appendTopData } from '../actions'\r\n\r\nconst mapStateToProps = (state: AppState) => ({\r\n    keyWord   : state.keyWord,\r\n    list      : fliterData(state.topList.list, state.keyWord),\r\n    loading   : state.topList.loading,\r\n    appending : state.topList.appending\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: Function) => ({\r\n    appendData : () => dispatch(appendTopData())\r\n})\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(TopList)","import React from 'react'\nimport '../styles/App.sass'\nimport SearchContainer from './SearchContainer'\nimport GrossListContainer from './GrossListContainer'\nimport TopListContainer from './TopListContainer'\n\nconst App = () => (\n    <div id=\"app\">\n        <SearchContainer />\n        <div className='content' id='scrollable-content'>\n            <GrossListContainer />\n            <TopListContainer />\n        </div>\n    </div>\n)\n\nexport default App\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport thunk, { ThunkMiddleware } from 'redux-thunk'\nimport { createStore, applyMiddleware, AnyAction } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport * as serviceWorker from './serviceWorker'\nimport './styles/index.sass'\nimport reducer, { AppState } from './reducers'\nimport App from './containers/App'\nimport { getTopData, getGrossData } from './actions'\n\nconst store = createStore(reducer, composeWithDevTools(\n        applyMiddleware(thunk  as ThunkMiddleware<AppState, AnyAction>)\n    )\n)\n\nstore.dispatch(getTopData())\nstore.dispatch(getGrossData())\n\n\nrender(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}