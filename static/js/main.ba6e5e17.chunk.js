(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n.p+"static/media/search.a87cbe0f.svg"},42:function(e,t,n){e.exports=n(73)},51:function(e,t,n){},70:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n(3),o=n(29),l=n(6),s=n(30),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(51);var m=n(2),d=n.n(m),f=n(7),v=n(17),g=n.n(v),h="/mockdata/appListData.json",b="/mockdata/recomendData.json";function E(){return new Promise(function(e,t){setTimeout(function(){e()},parseInt(1e3*Math.random()+"",10))})}function y(e,t){return O.apply(this,arguments)}function O(){return(O=Object(f.a)(d.a.mark(function e(t,n){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:return e.next=5,g.a.get(h);case 5:return a=e.sent,e.abrupt("return",N(a.data,t,n));case 9:return e.prev=9,e.t0=e.catch(0),console.log("getTopN fail",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}var N=function(e,t,n){return e.feed.entry.slice(t,t+n).map(function(e,n){return j(e,t+n+1)})},w=function(e){return e.feed.entry.map(function(e){return j(e)})},j=function(e,t){var n={icon:e["im:image"][1].label,name:e["im:name"].label,category:e.category.attributes.label,summary:e.summary.label,author:e["im:artist"].label};return t&&(n.rank=t,n.star=parseInt(5*Math.random()+1+"",10),n.comment=parseInt(1e3*Math.random()+100+"",10)),n};function k(){return L.apply(this,arguments)}function L(){return(L=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:return e.next=5,g.a.get(b);case 5:return t=e.sent,e.abrupt("return",w(t.data));case 9:return e.prev=9,e.t0=e.catch(0),console.log("getTopGrossingN fail",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}var x="keyWord",D="topLoading",P="topLoaded",C="topAppendeding",A="topAppendeded",R="grossLoading",S="grossLoaded",T={KEY_WORD:x,TOP_LOADING:D,TOP_LOADED:P,TOP_APPENDING:C,TOP_APPENDED:A,GROSS_LOADING:R,GROSS_LOADED:S};var W=T.KEY_WORD,_=T.TOP_LOADING,I=T.TOP_LOADED,G=T.TOP_APPENDING,M=T.TOP_APPENDED,U=T.GROSS_LOADING,B=T.GROSS_LOADED;var H={loading:!0,appending:!1,list:[],start:0,limit:10};var J={loading:!0,list:[]};var K=Object(l.combineReducers)({keyWord:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===W?t.value:e},topList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object.assign({},e,{loading:!0});case I:return Object.assign({},e,{loading:!1,list:t.value,start:t.start});case G:return Object.assign({},e,{appending:!0});case M:return Object.assign({},e,{appending:!1,list:e.list.concat(t.value),start:t.start});default:return e}},grossList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object.assign({},e,{loading:!0});case B:return Object.assign({},e,{loading:!1,list:t.value});default:return e}}}),Y=(n(70),n(31)),$=n(32),q=n(38),z=n(33),F=n(12),Q=n(39),V=n(34),X=n.n(V);var Z=function(e){function t(e){var n;return Object(Y.a)(this,t),(n=Object(q.a)(this,Object(z.a)(t).call(this,e))).state={tip:!0},n.props=void 0,n.handleChange=n.handleChange.bind(Object(F.a)(n)),n}return Object(Q.a)(t,e),Object($.a)(t,[{key:"handleChange",value:function(e){this.props.onChange(e.target.value),this.handleTip(e.target.value)}},{key:"handleTip",value:function(e){this.setState({tip:!e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"search-box"},r.a.createElement("div",{className:"background common-position"}),function(e){if(e)return r.a.createElement("div",{className:"tip common-position"},r.a.createElement("img",{alt:"search-icon",className:"search-icon",src:X.a}),r.a.createElement("span",null,"\u641c\u5bfb"))}(this.state.tip),r.a.createElement("input",{className:"search common-position",type:"text",maxLength:20,value:this.props.value,onChange:this.handleChange}))}}]),t}(r.a.Component),ee=Object(i.b)(function(e){return{value:e.keyWord}},function(e){return{onChange:function(t){return e(function(e){return{type:x,value:e}}(t))}}})(Z),te=n(37),ne=Object(i.b)(null,function(e){return{appendData:function(){return e(function(){var e=Object(f.a)(d.a.mark(function e(t,n){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=n().topList).appending||a.start>=100)){e.next=3;break}return e.abrupt("return");case 3:return t({type:C}),e.next=6,y(a.start,a.limit);case 6:r=e.sent,t((c=r,i=a.start+a.limit,{type:A,value:c,start:i}));case 8:case"end":return e.stop()}var c,i},e)}));return function(t,n){return e.apply(this,arguments)}}())}}})(function(e){var t=Object(a.useState)(0),n=Object(te.a)(t,2),c=n[0],i=n[1],o=Object(a.createRef)();return r.a.createElement("div",{className:"content",ref:o,onScroll:function(){(function(e){var t=e.scrollTop,n=e.clientHeight,a=e.scrollHeight;return i(t),!(c>t)&&a-n-t<200})(o.current)&&e.appendData()}},e.children)}),ae=function(){return r.a.createElement("div",{className:"loading-bar"},r.a.createElement("div",{className:"load"},"loading"),r.a.createElement("div",{className:"bar-list"},r.a.createElement("div",{className:"bar bar1"}),r.a.createElement("div",{className:"bar bar2"}),r.a.createElement("div",{className:"bar bar3"}),r.a.createElement("div",{className:"bar bar4"}),r.a.createElement("div",{className:"bar bar5"}),r.a.createElement("div",{className:"bar bar6"})))};function re(e){return{backgroundImage:"url("+e+")"}}var ce=["name","summary","category","author"];function ie(e,t){return t?(t=t.toUpperCase(),e.filter(function(e){return function(e,t){return ce.some(function(n){return-1!==(e[n]+"").toUpperCase().indexOf(t)})}(e,t)})):e}var oe=n(75),le=n(74);function se(e){return r.a.createElement(le.a,{component:null,appear:!0},e.map(function(e){return t=e,r.a.createElement(oe.a,{timeout:300,className:"app",key:t.name},r.a.createElement("div",null,r.a.createElement("div",{className:"icon",style:re(t.icon)}),r.a.createElement("p",{className:"name"},t.name),r.a.createElement("p",{className:"category"},t.category)));var t}))}var ue=function(e){return r.a.createElement("div",{className:"gross-list"},r.a.createElement("h6",{className:"title"},"\u63a8\u4ecb"),r.a.createElement("div",{className:"app-list"},e.loading?r.a.createElement(ae,null):se(e.list)))},pe=Object(i.b)(function(e){return{loading:e.grossList.loading,list:ie(e.grossList.list,e.keyWord)}})(ue),me=function(){return r.a.createElement("div",{className:"loading-circle"},r.a.createElement("div",{className:"rond"},r.a.createElement("div",{className:"test"})),r.a.createElement("div",{className:"load"},"loading"))};function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ve=r.a.createElement("defs",null,r.a.createElement("style",{type:"text/css"})),ge=r.a.createElement("path",{d:"M762.88 1008c-16.576 0-33.152-4.096-47.744-12.032l-204.032-109.888-203.968 109.888c-32.96 17.6-74.432 15.232-104.832-5.632-31.36-21.632-47.424-59.264-41.216-96.128l39.936-238.656-172.352-172.16C2.176 457.152-6.784 418.88 5.312 383.68 17.344 348.8 47.744 323.712 84.736 318.208l234.432-34.816L421.12 72C437.504 37.952 472.832 16 511.104 16c38.4 0 73.664 21.952 89.984 56l101.952 211.392 234.432 34.816c36.928 5.504 67.456 30.592 79.488 65.344 12.032 35.264 3.136 73.536-23.296 99.968l-172.416 172.096 39.936 238.72c6.272 36.736-9.856 74.496-41.088 96C803.072 1001.856 783.36 1008 762.88 1008M511.104 821.888c4.992 0 9.856 1.28 14.336 3.648l218.176 117.504c13.12 6.976 30.016 6.016 42.24-2.368 12.096-8.384 18.176-22.272 15.808-36.352l-42.496-254.016c-1.6-9.6 1.408-19.52 8.384-26.368l183.424-183.04c10.048-10.048 13.44-24.448 8.96-37.568-4.608-13.376-16.64-23.168-31.296-25.408L678.4 340.672c-9.856-1.472-18.368-7.744-22.72-16.768l-108.8-225.856C540.48 84.864 526.464 76.224 511.104 76.224c-15.296 0-29.312 8.576-35.712 21.824l-108.8 225.856C362.304 332.928 353.792 339.2 343.936 340.672L93.568 377.792c-14.464 2.176-26.688 12.224-31.36 25.536-4.48 13.056-1.024 27.456 9.024 37.504l183.296 183.04c6.976 6.848 10.048 16.768 8.512 26.368l-42.496 254.016c-2.496 14.144 3.712 28.032 15.808 36.48 12.096 8.256 28.928 9.28 42.304 2.112l218.112-117.376C501.312 823.104 506.24 821.888 511.104 821.888","p-id":4835,fill:"#f4ea2a"}),he=function(e){var t=e.svgRef,n=fe(e,["svgRef"]);return r.a.createElement("svg",de({t:1561564403518,className:"icon",viewBox:"0 0 1024 1024","p-id":4834,width:64,height:64,ref:t},n),ve,ge)},be=r.a.forwardRef(function(e,t){return r.a.createElement(he,de({svgRef:t},e))});n.p;function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ye(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Oe=r.a.createElement("defs",null,r.a.createElement("style",{type:"text/css"})),Ne=r.a.createElement("path",{d:"M762.688 1007.936c-16.64 0-33.152-4.16-47.744-12.032l-203.968-109.824-203.904 109.824c-33.088 17.6-74.496 15.232-104.896-5.568-31.296-21.568-47.36-59.328-41.152-96.128l39.936-238.656L28.672 483.456C2.112 457.152-6.784 418.88 5.248 383.68 17.344 348.8 47.744 323.712 84.672 318.272l234.496-34.88 101.76-211.392c16.384-33.984 51.776-56 90.048-56 38.336 0 73.664 21.952 89.92 56l101.888 211.392 234.432 34.88c36.992 5.44 67.392 30.528 79.424 65.344 12.096 35.264 3.136 73.472-23.296 99.84l-172.416 172.096 40.064 238.656c6.208 36.864-9.984 74.624-41.216 96.064C802.88 1001.792 783.168 1007.936 762.688 1007.936","p-id":5100,fill:"#f4ea2a"}),we=function(e){var t=e.svgRef,n=ye(e,["svgRef"]);return r.a.createElement("svg",Ee({t:1561597482864,className:"icon",viewBox:"0 0 1024 1024","p-id":5099,width:64,height:64,ref:t},n),Oe,Ne)},je=r.a.forwardRef(function(e,t){return r.a.createElement(we,Ee({svgRef:t},e))});n.p;function ke(e,t){var n="app"+(t%2===1?" circle":"");return r.a.createElement(oe.a,{timeout:300,className:n,key:e.name},r.a.createElement("div",null,r.a.createElement("div",{className:"left"},e.rank),r.a.createElement("div",{className:"middle"},r.a.createElement("div",{className:"icon",style:re(e.icon)})),r.a.createElement("div",{className:"right"},r.a.createElement("p",{className:"name"},e.name),r.a.createElement("p",{className:"category"},e.category),r.a.createElement("div",{className:"like"},function(e){for(var t=[],n=0;n<e;n++)t.push(r.a.createElement(je,{className:"rate-star",key:n}));for(var a=e;a<5;a++)t.push(r.a.createElement(be,{className:"rate-star",key:e+a}));return t}(e.star),r.a.createElement("span",{className:"comment"},"(",e.comment,")")))))}var Le=function(e){return r.a.createElement("div",{className:"top-list"},e.loading?r.a.createElement(me,null):(t=e.list,r.a.createElement(le.a,{component:null,appear:!0},t.map(function(e,t){return ke(e,t)}))),e.appending&&r.a.createElement("div",{className:"loader"}));var t},xe=Object(i.b)(function(e){return{keyWord:e.keyWord,list:ie(e.topList.list,e.keyWord),loading:e.topList.loading,appending:e.topList.appending}})(Le),De=function(){return r.a.createElement("div",{id:"app"},r.a.createElement(ee,null),r.a.createElement(ne,null,r.a.createElement(pe,null),r.a.createElement(xe,null)))},Pe=Object(l.createStore)(K,Object(s.composeWithDevTools)(Object(l.applyMiddleware)(o.a)));Pe.dispatch(function(){var e=Object(f.a)(d.a.mark(function e(t,n){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().topList,t({type:D}),e.next=4,y(a.start,a.limit);case 4:r=e.sent,t((c=r,i=a.start+a.limit,{type:P,value:c,start:i}));case 6:case"end":return e.stop()}var c,i},e)}));return function(t,n){return e.apply(this,arguments)}}()),Pe.dispatch(function(){var e=Object(f.a)(d.a.mark(function e(t){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:R}),e.next=3,k();case 3:n=e.sent,t({type:S,value:n});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object(c.render)(r.a.createElement(i.a,{store:Pe},r.a.createElement(De,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");u?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):p(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):p(t,e)})}}()}},[[42,1,2]]]);
//# sourceMappingURL=main.ba6e5e17.chunk.js.map