(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a.p+"static/media/search.a87cbe0f.svg"},41:function(e,t,a){e.exports=a(72)},50:function(e,t,a){},69:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a(6),o=a(34),s=a(5),i=a(35);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(50);var u=a(2),p=a.n(u),m=a(7),d=a(22),v=a.n(d),f="/mockdata/appListData.json",g="/mockdata/recomendData.json";function h(){return new Promise(function(e,t){setTimeout(function(){e()},parseInt(1e3*Math.random()+"",10))})}function b(e,t){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(p.a.mark(function e(t,a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:return e.next=5,v.a.get(f);case 5:return n=e.sent,e.abrupt("return",E(n.data,t,a));case 9:return e.prev=9,e.t0=e.catch(0),console.log("getTopN fail",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}var E=function(e,t,a){return e.feed.entry.slice(t,t+a).map(function(e,a){return N(e,t+a+1)})},O=function(e){return e.feed.entry.map(function(e){return N(e)})},N=function(e,t){var a={icon:e["im:image"][1].label,name:e["im:name"].label,category:e.category.attributes.label,summary:e.summary.label,author:e["im:artist"].label};return t&&(a.rank=t,a.star=parseInt(5*Math.random()+1+"",10),a.comment=parseInt(1e3*Math.random()+100+"",10)),a};function j(){return k.apply(this,arguments)}function k(){return(k=Object(m.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:return e.next=5,v.a.get(g);case 5:return t=e.sent,e.abrupt("return",O(t.data));case 9:return e.prev=9,e.t0=e.catch(0),console.log("getTopGrossingN fail",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}var w="keyWord",L="topLoading",x="topLoaded",D="topAppendeding",S="topAppendeded",P="grossLoading",C="grossLoaded",R={KEY_WORD:w,TOP_LOADING:L,TOP_LOADED:x,TOP_APPENDING:D,TOP_APPENDED:S,GROSS_LOADING:P,GROSS_LOADED:C};var T=R.KEY_WORD,A=R.TOP_LOADING,_=R.TOP_LOADED,I=R.TOP_APPENDING,W=R.TOP_APPENDED,G=R.GROSS_LOADING,M=R.GROSS_LOADED;var B={loading:!0,appending:!1,list:[],start:0,limit:10};var q={loading:!0,list:[]};var U=Object(s.combineReducers)({keyWord:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===T?t.value:e},topList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object.assign({},e,{loading:!0});case _:return Object.assign({},e,{loading:!1,list:t.value,start:t.start});case I:return Object.assign({},e,{appending:!0});case W:return Object.assign({},e,{appending:!1,list:e.list.concat(t.value),start:t.start});default:return e}},grossList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object.assign({},e,{loading:!0});case M:return Object.assign({},e,{loading:!1,list:t.value});default:return e}}}),H=(a(69),a(13)),J=a(14),K=a(17),Y=a(15),$=a(10),z=a(18),F=a(36),Q=a.n(F);var V=function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(K.a)(this,Object(Y.a)(t).call(this,e))).state={tip:!0},a.props=void 0,a.handleChange=a.handleChange.bind(Object($.a)(a)),a}return Object(z.a)(t,e),Object(J.a)(t,[{key:"handleChange",value:function(e){this.props.onChange(e.target.value),this.handleTip(e.target.value)}},{key:"handleTip",value:function(e){this.setState({tip:!e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"search-box"},r.a.createElement("div",{className:"background common-position"}),function(e){if(e)return r.a.createElement("div",{className:"tip common-position"},r.a.createElement("img",{alt:"search-icon",className:"search-icon",src:Q.a}),r.a.createElement("span",null,"\u641c\u5bfb"))}(this.state.tip),r.a.createElement("input",{className:"search common-position",type:"text",maxLength:20,value:this.props.value,onChange:this.handleChange}))}}]),t}(r.a.Component),X=Object(l.b)(function(e){return{value:e.keyWord}},function(e){return{onChange:function(t){return e(function(e){return{type:w,value:e}}(t))}}})(V),Z=function(){return r.a.createElement("div",{className:"loading-bar"},r.a.createElement("div",{className:"load"},"loading"),r.a.createElement("div",{className:"bar-list"},r.a.createElement("div",{className:"bar bar1"}),r.a.createElement("div",{className:"bar bar2"}),r.a.createElement("div",{className:"bar bar3"}),r.a.createElement("div",{className:"bar bar4"}),r.a.createElement("div",{className:"bar bar5"}),r.a.createElement("div",{className:"bar bar6"})))};function ee(e){return{backgroundImage:"url("+e+")"}}var te=["name","summary","category","author"];function ae(e,t){return t?(t=t.toUpperCase(),e.filter(function(e){return function(e,t){return te.some(function(a){return-1!==(e[a]+"").toUpperCase().indexOf(t)})}(e,t)})):e}var ne=a(74),re=a(73);function ce(e){return r.a.createElement(re.a,{component:null,appear:!0},e.map(function(e){return t=e,r.a.createElement(ne.a,{timeout:300,className:"app",key:t.name},r.a.createElement("div",null,r.a.createElement("div",{className:"icon",style:ee(t.icon)}),r.a.createElement("p",{className:"name"},t.name),r.a.createElement("p",{className:"category"},t.category)));var t}))}var le=function(e){return r.a.createElement("div",{className:"gross-list"},r.a.createElement("h6",{className:"title"},"\u63a8\u4ecb"),r.a.createElement("div",{className:"app-list"},e.loading?r.a.createElement(Z,null):ce(e.list)))},oe=Object(l.b)(function(e){return{loading:e.grossList.loading,list:ae(e.grossList.list,e.keyWord)}})(le),se=function(){return r.a.createElement("div",{className:"loading-circle"},r.a.createElement("div",{className:"rond"},r.a.createElement("div",{className:"test"})),r.a.createElement("div",{className:"load"},"loading"))};function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var pe=r.a.createElement("defs",null,r.a.createElement("style",{type:"text/css"})),me=r.a.createElement("path",{d:"M762.88 1008c-16.576 0-33.152-4.096-47.744-12.032l-204.032-109.888-203.968 109.888c-32.96 17.6-74.432 15.232-104.832-5.632-31.36-21.632-47.424-59.264-41.216-96.128l39.936-238.656-172.352-172.16C2.176 457.152-6.784 418.88 5.312 383.68 17.344 348.8 47.744 323.712 84.736 318.208l234.432-34.816L421.12 72C437.504 37.952 472.832 16 511.104 16c38.4 0 73.664 21.952 89.984 56l101.952 211.392 234.432 34.816c36.928 5.504 67.456 30.592 79.488 65.344 12.032 35.264 3.136 73.536-23.296 99.968l-172.416 172.096 39.936 238.72c6.272 36.736-9.856 74.496-41.088 96C803.072 1001.856 783.36 1008 762.88 1008M511.104 821.888c4.992 0 9.856 1.28 14.336 3.648l218.176 117.504c13.12 6.976 30.016 6.016 42.24-2.368 12.096-8.384 18.176-22.272 15.808-36.352l-42.496-254.016c-1.6-9.6 1.408-19.52 8.384-26.368l183.424-183.04c10.048-10.048 13.44-24.448 8.96-37.568-4.608-13.376-16.64-23.168-31.296-25.408L678.4 340.672c-9.856-1.472-18.368-7.744-22.72-16.768l-108.8-225.856C540.48 84.864 526.464 76.224 511.104 76.224c-15.296 0-29.312 8.576-35.712 21.824l-108.8 225.856C362.304 332.928 353.792 339.2 343.936 340.672L93.568 377.792c-14.464 2.176-26.688 12.224-31.36 25.536-4.48 13.056-1.024 27.456 9.024 37.504l183.296 183.04c6.976 6.848 10.048 16.768 8.512 26.368l-42.496 254.016c-2.496 14.144 3.712 28.032 15.808 36.48 12.096 8.256 28.928 9.28 42.304 2.112l218.112-117.376C501.312 823.104 506.24 821.888 511.104 821.888","p-id":4835,fill:"#f4ea2a"}),de=function(e){var t=e.svgRef,a=ue(e,["svgRef"]);return r.a.createElement("svg",ie({t:1561564403518,className:"icon",viewBox:"0 0 1024 1024","p-id":4834,width:64,height:64,ref:t},a),pe,me)},ve=r.a.forwardRef(function(e,t){return r.a.createElement(de,ie({svgRef:t},e))});a.p;function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ge(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var he=r.a.createElement("defs",null,r.a.createElement("style",{type:"text/css"})),be=r.a.createElement("path",{d:"M762.688 1007.936c-16.64 0-33.152-4.16-47.744-12.032l-203.968-109.824-203.904 109.824c-33.088 17.6-74.496 15.232-104.896-5.568-31.296-21.568-47.36-59.328-41.152-96.128l39.936-238.656L28.672 483.456C2.112 457.152-6.784 418.88 5.248 383.68 17.344 348.8 47.744 323.712 84.672 318.272l234.496-34.88 101.76-211.392c16.384-33.984 51.776-56 90.048-56 38.336 0 73.664 21.952 89.92 56l101.888 211.392 234.432 34.88c36.992 5.44 67.392 30.528 79.424 65.344 12.096 35.264 3.136 73.472-23.296 99.84l-172.416 172.096 40.064 238.656c6.208 36.864-9.984 74.624-41.216 96.064C802.88 1001.792 783.168 1007.936 762.688 1007.936","p-id":5100,fill:"#f4ea2a"}),ye=function(e){var t=e.svgRef,a=ge(e,["svgRef"]);return r.a.createElement("svg",fe({t:1561597482864,className:"icon",viewBox:"0 0 1024 1024","p-id":5099,width:64,height:64,ref:t},a),he,be)},Ee=r.a.forwardRef(function(e,t){return r.a.createElement(ye,fe({svgRef:t},e))});a.p;function Oe(e,t){var a="app"+(t%2===1?" circle":"");return r.a.createElement(ne.a,{timeout:300,className:a,key:e.name},r.a.createElement("div",null,r.a.createElement("div",{className:"left"},e.rank),r.a.createElement("div",{className:"middle"},r.a.createElement("div",{className:"icon",style:ee(e.icon)})),r.a.createElement("div",{className:"right"},r.a.createElement("p",{className:"name"},e.name),r.a.createElement("p",{className:"category"},e.category),r.a.createElement("div",{className:"like"},function(e){for(var t=[],a=0;a<e;a++)t.push(r.a.createElement(Ee,{className:"rate-star",key:a}));for(var n=e;n<5;n++)t.push(r.a.createElement(ve,{className:"rate-star",key:e+n}));return t}(e.star),r.a.createElement("span",{className:"comment"},"(",e.comment,")")))))}var Ne=function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(K.a)(this,Object(Y.a)(t).call(this,e))).props=void 0,a.state={lastScroll:0},a.onScroll=a.onScroll.bind(Object($.a)(a)),a}return Object(z.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){document.querySelector("#scrollable-content").addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){document.querySelector("#scrollable-content").removeEventListener("scroll",this.onScroll)}},{key:"arriveBottom",value:function(e){var t=e.scrollTop,a=e.clientHeight,n=e.scrollHeight,r=this.state.lastScroll;return this.setState({lastScroll:t}),!(r>t)&&n-a-t<200}},{key:"onScroll",value:function(){var e=document.querySelector("#scrollable-content");this.arriveBottom(e)&&this.props.appendData()}},{key:"render",value:function(){return r.a.createElement("div",{className:"top-list"},this.props.loading?r.a.createElement(se,null):(e=this.props.list,r.a.createElement(re.a,{component:null,appear:!0},e.map(function(e,t){return Oe(e,t)}))),this.props.appending&&r.a.createElement("div",{className:"loader"}));var e}}]),t}(r.a.Component),je=Object(l.b)(function(e){return{keyWord:e.keyWord,list:ae(e.topList.list,e.keyWord),loading:e.topList.loading,appending:e.topList.appending}},function(e){return{appendData:function(){return e(function(){var e=Object(m.a)(p.a.mark(function e(t,a){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=a().topList).appending||n.start>=100)){e.next=3;break}return e.abrupt("return");case 3:return t({type:D}),e.next=6,b(n.start,n.limit);case 6:r=e.sent,t((c=r,l=n.start+n.limit,{type:S,value:c,start:l}));case 8:case"end":return e.stop()}var c,l},e)}));return function(t,a){return e.apply(this,arguments)}}())}}})(Ne),ke=function(){return r.a.createElement("div",{id:"app"},r.a.createElement(X,null),r.a.createElement("div",{className:"content",id:"scrollable-content"},r.a.createElement(oe,null),r.a.createElement(je,null)))},we=Object(s.createStore)(U,Object(i.composeWithDevTools)(Object(s.applyMiddleware)(o.a)));we.dispatch(function(){var e=Object(m.a)(p.a.mark(function e(t,a){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().topList,t({type:L}),e.next=4,b(n.start,n.limit);case 4:r=e.sent,t((c=r,l=n.start+n.limit,{type:x,value:c,start:l}));case 6:case"end":return e.stop()}var c,l},e)}));return function(t,a){return e.apply(this,arguments)}}()),we.dispatch(function(){var e=Object(m.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:P}),e.next=3,j();case 3:a=e.sent,t({type:C,value:a});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object(c.render)(r.a.createElement(l.a,{store:we},r.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.0ea63428.chunk.js.map